# -*- coding: utf-8 -*-

ARRAY = [
         ["Pizza", [
                    ['Margherita', 'klasyczna Margherita bez dodatków', 1, [ [10.5, '24cm'], [13.5, '32cm'] ] ],
                    ['Studencka', 'z pieczarkami', 2, [ [11.5, '24cm'], [16.0, '32cm'] ] ],
                    ['Toska', 'z pieczarkami i szynką', 3, [ [13.0, '24cm'], [17.5, '32cm'] ] ],
                    ['Hawajska', 'z ananasem i szynką', 4, [ [13.5, '24cm'], [19.5, '32cm'] ] ],
                    ['Brokułka', 'z brokułami, pomidorem i szynką', 5, [ [13.5, '24cm'], [18.5, '32cm'] ] ],
                    ['Do-Re-Mi-Salami', 'z salami, pieczarkami i cebulą', 6, [ [14.5, '24cm'], [19.5, '32cm'] ] ],
                    ['Morska Bryza', 'z tuńczykiem, pomidorem i papryką', 7, [ [15.0, '24cm'], [20.5, '32cm'] ] ],
                    ['Jajcarska', 'z jajkiem, serem feta, brokułami, kaparami i papryką', 8, [ [15.0, '24cm'], [20.5, '32cm'] ] ],
                    ['Kowala', 'z boczkiem, papryką, szynką, cebulą i czosnkiem', 9, [ [14.5, '24cm'], [20.5, '32cm'] ] ],
                    ['Jarska', 'z cebulą, kukurydzą, pomidorem, papryką i brokułami', 10, [ [14.5, '24cm'], [19.5, '32cm'] ] ],
                    ['Bartolomeo', 'z oliwkami, salami, szynką i kukurydzą', 11, [ [14.5, '24cm'], [20.5, '32cm'] ] ],
                    ['Kaparina', 'z serami feta i camembert, kaparami, brokułami i papryką', 12, [ [14.5, '24cm'], [20.5, '32cm'] ] ],
                    ['Cztery Sery', 'z serami feta, camembert i gouda oraz papryką', 13, [ [14.5, '24cm'], [19.5, '32cm'] ] ],
                    ['Pirat Krzyś', 'z kalmarami, ośmiorniczkami, małżami i krewetkami', 14, [ [14.5, '24cm'], [20.5, '32cm'] ] ],
                    ['Rumcajs', 'z kabanosem, kiełbasą, boczkiem, ogórkiem i cebulą', 15, [ [14.5, '24cm'], [20.5, '32cm'] ] ],
                    ['Los Kurczakos', 'z kurczakiem, papryką, kukurydzą, cebulą i cebulką konserwową', 16, [ [14.5, '24cm'], [20.5, '32cm'] ] ],
                    ['Szpinka', 'ze szpinakiem, czosnkiem, szynką i serem feta', 17, [ [13.5, '24cm'], [19.5, '32cm'] ] ],
                    ['Czochol', 'z podwójnym czosnkiem, kabanosem, boczkiem, pieczarkami i cebulą', 18, [ [14.5, '24cm'], [20.5, '32cm'] ] ],
                    ['Grecka', 'z pomidorem, oliwkami, serem feta i cebulą', 19, [ [13.5, '24cm'], [19.5, '32cm'] ] ],
                    ['Pepperoni', 'z salami oraz pikantnymi papryczkami pepperoni', 19, [ [15.0, '24cm'], [21.0, '32cm'] ] ]
                   ]
         ],
         ["Zestawy Obiadowe", [
                               [ 'Rolada wieprzowa', 'z kluskami śląskimi, czerwoną kapustą i sosem', 1, [ [20.00, 'zestaw'] ] ],
                               [ 'Filet z kurczaka', 'z frytkami lub puree ziemniaczanym i zestawem surówek', 2, [ [15.00, 'zestaw'] ] ],
                               [ 'Schabowy po wiedeńsku', 'z frytkami lub puree ziemniaczanym i zestawem surówek', 3, [ [16.00, 'zestaw'] ] ],
                               [ 'Schabowy po hawajsku', 'z frytkami lub puree ziemniaczanym i zestawem surówek', 4, [ [16.00, 'zestaw'] ] ],
                               [ 'Golonko zapiekane', 'z kapustą zasmażaną i pieczywem', 5, [ [25.00, 'zestaw'] ] ],
                               [ 'Placek po węgiersku', 'klasyczna receptura', 6, [ [16.00, 'zestaw'] ] ],
                               [ 'Camembert zasmażany', 'z żurawiną, frytkami lub puree ziemniaczanym i zestawem surówek', 7, [ [15.00, 'zestaw'] ] ],
                               [ 'Barszcz z krokietem', 'tradycyjne krokiety z mięsem i kubkiem barszczu', 8, [ [8.00, '2 sztuki'] ] ],
                               [ 'Kotlet De Volaille', 'z frytkami lub puree ziemniaczanym i zestawem surówek', 9, [ [16.00, 'zestaw'] ] ],
                               [ 'Placki ziemniaczane', 'tradycyjne placki ziemniaczane', 10, [ [6.00, '3 sztuki'] ] ],
                               [ 'Ser mozzarella zasmażany', 'z żurawiną, frytkami lub puree ziemniaczanym i zestawem surówek', 11, [ [15.00, 'zestaw'] ] ],
                               [ 'Kurczak z rożna', 'z pieczywem', 12, [ [19.00, 'sztuka'] ] ]
                              ]
         ],
         ["Zupy", [
                   [ 'Rosół z makaronem', '', 1, [ [5.00, 'porcja'] ] ],
                   [ 'Krem z pieczarek', 'z grzankami', 2, [ [6.00, 'porcja'] ] ],
                   [ 'Krem z groszku', 'z grzankami', 3, [ [5.00, 'porcja'] ] ],
                   [ 'Cebulowa', 'z grzankami', 4, [ [5.00, 'porcja'] ] ],
                   [ 'Flaczki', '', 5, [ [8.00, 'porcja'] ] ],
                   [ 'Żurek', '', 6, [ [5.00, 'porcja'] ] ],
                   [ 'Czosnkowa', 'z grzankami', 7, [ [5.00, 'porcja'] ] ]
                  ]
         ],
         ["Sałatki", [
                      [ 'Grecka', 'sałata lodowa, ogórek, pomidor, cebula, ser feta, oliwki, sos', 1, [ [5.0, 'mała'], [9.0, 'duża'] ] ],
                      [ 'Z tuńczykiem', 'sałata lodowa, tuńczyk, ser mozzarella, kukurydza, pomidor, czerwona fasola, sos majonezowo-keczupowy', 2, [ [6.0, 'mała'], [11.0, 'duża'] ] ],
                      [ 'Z kurczakiem', 'sałata lodowa, kurczak a la gyros, pomidor, cebula, kukurydza, sos majonezowo-keczupowy', 3, [ [6.0, 'mała'], [11.0, 'duża'] ] ]
                     ]
         ],
         ["Naleśniki", [
                        ['Jarski', 'z miksem warzyw oraz serem mozzarella', 1, [ [10.0, 'sztuka'] ] ],
                        ['Morski', 'z tuńczykiem, kukurydzą, fasolą, ogórkiem oraz serem mozzarella', 2, [ [12.0, 'sztuka'] ] ],
                        ['Kowala', 'z boczkiem, papryką, cebulą, kukurydzą, jajkiem oraz serem mozzarella', 3, [ [12.0, 'sztuka'] ] ],
                        ['Hawajski', 'z ananasem, szynką, kukurydzą oraz serem mozzarella', 4, [ [12.0, 'sztuka'] ] ],
                        ['Meksykański', 'ze smażonym mięsem mielonym, sosem bolognese, kukurydzą, fasolą oraz serem mozzarella', 5, [ [13.0, 'sztuka'] ] ],
                        ['Szpinaczek', 'ze szpinakiem i czosnkiem oraz serem mozzarella', 6, [ [10.0, 'sztuka'] ] ],
                        ['Złoty Kurczak', 'z kurczakiem smażonym na maśle w pieczarkach oraz serem mozzarella', 7, [ [13.0, 'sztuka'] ] ]
                       ]
         ],
         ["Fast Food", [
                        [ 'Ciabatta', 'mięso z piersi kurczaka, sałatki, cebulka prażona i sosy w bułce a la pita', 1, [ [9.0, 'sztuka'] ] ],
                        [ 'Hamburger', 'sałatki, sos curry, keczup, cebulka prażona', 2, [ [5.0, 'sztuka'] ] ],
                        [ 'Cheeseburger', 'hamburger z serem :)', 3, [ [6.0, 'sztuka'] ] ],
                        [ 'Chickenburger', 'sałata, pomidor, ogórek, sos majonezowo-keczupowy', 4, [ [6.0, 'sztuka'] ] ],
                        [ 'JAK TO OGARNĄĆ?? -> Zapiekanka z pieca', 'ser mozzarella, cebulka prażona, sos curry, keczup i 1 dodatek w cenie: pieczarki / szynka / salami / camembert (każdy kolejny dodatek + 1zł ', 5, [ [4.0, 'sztuka'] ] ],
                        [ 'Hot Dog', 'sałatki, cebulka prażona, musztarda i keczup', 6, [ [5.0, 'sztuka'] ] ],
                        [ 'Tortilla', 'mięso z piersi kurczaka, sałata, pomidor, ogórek, cebula, sos', 7, [ [8.0, 'sztuka'] ] ],
                        [ 'Frytki', 'małe 150g lub duże 300g', 8, [ [3.5, 'małe'], [5.5, 'duże'] ] ],
                        [ 'Chicken Nuggets', '', 9, [ [6.0, '6 sztuk'] ] ],
                        [ 'Bułeczki Szefa', 'z masełkiem czosnkowym', 10, [ [1.5, 'sztuka'] ] ]
                       ]
         ],
         ["Spaghetti", [
                        ['Bolognese', 'z mięsem wołowo-wieprzowym i sosem bolognese', 1, [ [15.0, 'porcja'] ] ],
                        ['Napoli', 'bezmięsne z sosem pomidorowym napoli', 2, [ [12.0, 'porcja'] ] ],
                        ['Carbonara', 'z boczkiem, gęstym sosem carbonara na bazie parmezanu, czosnku i mieszanki ziół', 3, [ [15.0, 'porcja'] ] ],
                        ['Mozzarella', 'z serem mozzarella, oliwkami i czosnkiem', 4, [ [13.0, 'porcja'] ] ]
                       ]
         ],
         ["Sosy", [
                   ['Czosnkowy', '', 1, [ [2.0, 'porcja'] ] ],
                   ['Majonezowo-keczupowy', '', 2, [ [2.0, 'porcja'] ] ],
                   ['Meksykański', '', 3, [ [2.0, 'porcja'] ] ],
                   ['Tzatziki', '', 4, [ [2.0, 'porcja'] ] ],
                   ['Grecki', '', 5, [ [2.0, 'porcja'] ] ]
                  ]
         ],
         ["Napoje i soki", [
                            ['Coca-Cola', '', 1, [ [4.5, '0,5l'], [6.0, '1l'], [8.0, '1,5l'] ] ],
                            ['Coca-cola Zero', '', 2, [ [4.5, '0,5l'] ] ],
                            ['Fanta', '', 3, [ [4.5, '0,5l'] ] ],
                            ['Sprite', '', 4, [ [4.5, '0,5l'] ] ],
                            ['Burn', '', 5, [ [7.0, '0,25l'] ] ],
                            ['Nestea Lemon', '', 6, [ [4.5, '0,5l'] ] ],
                            ['Nestea Peach', '', 7, [ [4.5, '0,5l'] ] ],
                            ['Nestea Tropical Fruits', '', 8, [ [4.5, '0,5l'] ] ],
                            ['Nestea Green Tea Citrus', '', 9, [ [4.5, '0,5l'] ] ],
                            ['Nestea Green Tea Strawberry Aloe Vera', '', 10, [ [4.5, '0,5l'] ] ],
                            ['Kropla Beskidu niegazowana', '', 11, [ [3.0, '0,5l'] ] ],
                            ['Kropla Beskidu gazowana', '', 12, [ [3.0, '0,5l'] ] ],
                            ['Sok pomarańczowy', 'sok w kartonie', 13, [ [7.0, '1l'] ] ],
                            ['Sok porzeczkowy', 'sok w kartonie', 14, [ [7.0, '1l'] ] ],
                            ['Sok jabłkowy', 'sok w kartonie', 15, [ [7.0, '1l'] ] ],
                            ['Sok grejpfrutowy', 'sok w kartonie', 16, [ [7.0, '1l'] ] ],
                            ['Sok bananowy', 'sok w kartonie', 17, [ [7.0, '1l'] ] ],
                           ]
         ]
        ]

calc_arr = []

ARRAY.each do |element|
  m_arr = []
  element[1].each do |member|
    var_arr = []
    member[3].each do |variant|
      var_arr << { :price => variant[0], :size => variant[1] }
    end
    m_arr << { :member => {
        :name => member[0],
        :description => member[1],
        :fixed_number => member[2],
        :variants_attributes => var_arr } }
  end
  calc_arr << { element[0] => m_arr }
end

calc_arr.each do |category|
  name = category.keys.first
  Category.create(:name => name)
  category[name].each do |product|
    Product.create(product[:member]) do |member|
      member.category = Category.find_by_name(name)
    end
  end
end

# CATEGORIES = [
#   { name: "Pizza" },
#   { name: "Spaghetti" },
#   { name: "Fast Food" },
#   { name: "Sałatki" },
#   { name: "Sosy" },
#   { name: "Naleśniki" },
#   { name: "Napoje i soki" },
#   { name: "Zupy" },
#   { name: "Zestawy obiadowe" } ]

# PRODUCTS = [
#   { "Pizza" => [
#       { :member => {
#           :name => 'Margherita',
#           :description => 'klasuczna Margherita bez dodatków',
#           :fixed_number => 1,
#           :variants_attributes => [
#             { :price => 10.5, :size => '24cm' },
#             { :price => 13.5, :size => '32cm' }
#           ]
#         }},
#       { :member => {
#           :name => 'Studencka',
#           :description => 'z pieczarkami',
#           :fixed_number => 2,
#           :variants_attributes => [
#             { :price => 11.5, :size => '24cm' },
#             { :price => 16.0, :size => '32cm' }
#           ]
#         }},
#       { :member => {
#           :name => 'Toska',
#           :description => 'z pieczarkami i szynką',
#           :fixed_number => 3,
#           :variants_attributes => [
#             { :price => 13.5, :size => '24cm' },
#             { :price => 16, :size => '32cm' }
#           ]
#         }}
#     ]
#   },
#   { "Spaghetti" => [
#       { :member => {
#           :name => 'bol',
#           :description => 'z jajkiem',
#           :fixed_number => 189,
#           :variants_attributes => [
#             { :price => 13.5, :size => '' }
#           ]
#         }}
#     ]},

#   { "Fast Food" => [
#     ] },
#   { "Sałatki" => [
#     ] },
#   { "Sosy" => [
#     ] },
#   { "Naleśniki" => [
#     ] },
#   { "Napoje i sosy" => [
#     ] },
#   { "Zupy" => [
#     ] },
#   { "Zestawy obiadowe" => [
#     ] }
# ]


# PIZZA.each do |pizza|
#   Product.create(pizza[:member]) do |product|
#     product.category = Category.find_by_name("Pizza")
#   end
# end

# Product.create(PIZZA) do |product|
#   product.category = Product.find_by_name("Pizza")

# end
